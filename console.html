<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SisyphusPI Config Editor</title>
  <link rel="stylesheet" href="console.css" />
</head>
<body>
  <h1>SisyphusPI config.ini editor</h1>
  <p>Adjust the values below and click "Generate config.ini". Then copy the text into your config.ini (or use the download button).</p>

  <form id="config-form" onsubmit="event.preventDefault(); generateConfig();">
    <fieldset>
      <legend>Model</legend>
      <label>D_MODEL: <input id="d_model" type="number" min="1" value="128" /></label>
      <label>N_HEADS: <input id="n_heads" type="number" min="1" value="4" /></label>
      <label>WEIGHT_DECAY: <input id="weight_decay" type="number" step="0.0001" value="1.0" /></label>
      <label>TRAIN_PCT: <input id="train_pct" type="number" min="0" max="1" step="0.01" value="0.4" /></label>
      <label>STEPS: <input id="steps" type="number" min="1" value="100" /></label>
    </fieldset>

    <fieldset>
      <legend>Training sweep</legend>
      <label>NUM_OF_SACRIFICES: <input id="num_sacrifices" type="number" min="1" value="5" /></label>
      <label>NUM_OF_WAVES: <input id="num_waves" type="number" min="1" value="3" /></label>
      <label>MIN_N: <input id="min_n" type="number" min="1" value="25" /></label>
      <label>MAX_N: <input id="max_n" type="number" min="1" value="30" /></label>
      <label>N_STEP: <input id="n_step" type="number" min="1" value="1" /></label>
      <label>WEIGHT_DECAYS (comma-separated):<br />
        <input id="weight_decays" type="text" value="1.0, 0.1, 0.01" style="width: 260px;" />
      </label>
      <label>LEARNING_RATES (comma-separated):<br />
        <input id="learning_rates" type="text" value="0.0001, 0.0005, 0.001, 0.005, 0.01, 0.05, 0.1" style="width: 260px;" />
      </label>
    </fieldset>

    <fieldset>
      <legend>Project</legend>
      <label>PROJECT_NAME: <input id="project_name" type="text" value="default_project" /></label>
    </fieldset>

    <fieldset>
      <legend>Plotting</legend>
      <label><input id="plotting" type="checkbox" /> PLOTTING (enable live training plots)</label>
    </fieldset>

    <div class="buttons">
      <button type="submit">Generate config.ini</button>
      <button type="button" onclick="downloadConfig()">Download config.ini</button>
    </div>
  </form>

  <h2>Generated config.ini</h2>
  <textarea id="config-output" readonly></textarea>

  <script src="console_controller.js"></script>
</body>
</html>
